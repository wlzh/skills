# Changelog

## v1.0.0 - 2026-01-19

### 🎉 首次发布

**音频变声处理工具** - 将音频转换为不同的声音效果

### ✨ 核心功能

- ✅ **多种声音预设** - 支持女声、男声、童声等多种预设
- ✅ **快速处理** - 基于 FFmpeg 的高效音高调整
- ✅ **灵活配置** - 支持自定义音高参数和配置文件
- ✅ **可集成** - 可被其他 skills 调用集成
- ✅ **批量处理** - 支持批量处理多个音频文件

### 🎵 声音预设

| 预设 | 音高 | 描述 |
|-----|------|------|
| female_1 | +5 | 女声（轻柔） |
| female_2 | +7 | 女声（明亮） |
| female_3 | +4 | 女声（甜美） |
| male_deep | -5 | 男声（低沉） |
| male_normal | -3 | 男声（正常） |
| child | +8 | 童声 |

### 🔧 技术实现

**音高调整**:
- 使用 FFmpeg 的 `asetrate` 和 `atempo` 滤镜
- 保持音频时长不变
- 最小化音质损失

**处理流程**:
1. 读取输入音频
2. 应用音高调整滤镜
3. 重新采样到原始采样率
4. 输出处理后的音频

### 📊 性能指标

- 14 分钟音频: ~7-14 秒处理时间
- 内存占用: < 100MB
- CPU 占用: 中等

*测试环境: M1 Mac*

### 📦 命令行参数

```
usage: voice_change.py [-h] [-o OUTPUT] [-v VOICE] [-c CONFIG]
                       [-m {simple,rvc}] [-p PITCH] input_audio

参数:
  input_audio           输入音频文件
  -o, --output         输出文件路径
  -v, --voice          声音类型（默认: female_1）
  -c, --config         自定义配置文件
  -m, --method         处理方法: simple 或 rvc
  -p, --pitch          音高调整（半音）
```

### 🎯 使用场景

1. **播客制作** - 转换音频声音以保护隐私
2. **内容创作** - 为视频/音频添加不同声音效果
3. **语音处理** - 批量处理音频文件
4. **集成到工作流** - 与其他 skills 配合使用

### 📝 配置文件

默认配置文件: `config/voice_config.json`

```json
{
  "voices": {
    "female_1": {
      "name": "女声（轻柔）",
      "pitch_shift": 5,
      "description": "适合温柔的女性声音"
    },
    "female_2": {
      "name": "女声（明亮）",
      "pitch_shift": 7,
      "description": "更高音调的女性声音"
    }
  }
}
```

### 📚 依赖要求

**系统依赖**:
- FFmpeg (音频处理)

### ⚠️ 注意事项

1. 音高调整幅度越大，音质损失越明显
2. 建议音高调整范围: -12 到 +12 半音
3. 支持格式: MP3, WAV, M4A, FLAC 等

### 🔮 未来计划

- [ ] 支持更高级的变声算法（RVC）
- [ ] 添加音色调整功能
- [ ] 支持实时变声
- [ ] 添加 GUI 界面
- [ ] 支持更多音频格式

### 📄 许可

MIT
